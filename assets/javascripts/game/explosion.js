// Generated by CoffeeScript 1.3.1
var Explosion;

Explosion = (function() {

  function Explosion(level, x, y, maxsize, addSubExplosion) {
    var randomNum, randomX, randomY;
    if (addSubExplosion == null) {
      addSubExplosion = true;
    }
    this.level = level;
    this.x = x;
    this.y = y;
    this.maxsize = maxsize;
    this.diameter = 1;
    this.colour = '#FF0000';
    this.destroyed = false;
    if (addSubExplosion) {
      randomNum = Math.random();
      if (randomNum > 0.5) {
        randomX = x + Math.floor(Math.random() * -20);
      } else {
        randomX = x + Math.floor(Math.random() * 20);
      }
      randomNum = Math.random();
      if (randomNum > 0.5) {
        randomY = y + Math.floor(Math.random() * -20);
      } else {
        randomY = y + Math.floor(Math.random() * 20);
      }
      this.level.explosions.push(new Explosion(this.level, randomX, randomY, this.maxsize / 2, false));
    }
  }

  Explosion.prototype.update = function() {
    if (this.diameter > this.maxsize) {
      this.destroyed = true;
    }
    return this.diameter = this.diameter + 2;
  };

  Explosion.prototype.draw = function() {
    return this.level.drawCircle(this.colour, this.x, this.y, this.diameter);
  };

  return Explosion;

})();
